# My Async Shop

My Async Shop is a fully asynchronous API for managing a simple shop with items, built using FastAPI, PostgreSQL, Redis, and Docker. This project supports CRUD operations for shop items, implements caching with Redis, and utilizes PostgreSQL for persistent storage. The application is containerized using Docker to ensure seamless deployment and environment management.

## Features
- **Asynchronous API** built with FastAPI.
- **CRUD operations** for managing shop items: Create, Read, Update, and Delete.
- **Redis caching** to improve performance and reduce database load.
- **PostgreSQL** as the primary database for data persistence.
- **Dockerized** environment for easy setup and deployment.
- **Interactive API documentation** generated by FastAPI (Swagger UI and ReDoc).

## Table of Contents
- [Getting Started](#getting-started)
- [API Endpoints](#api-endpoints)
- [Project Structure](#project-structure)
- [Dependencies](#dependencies)


## Getting Started

### Prerequisites
Make sure you have the following installed on your local machine:
- [Docker](https://www.docker.com/)

### Installation

1. **Clone the repository**:
   ```sh
   git clone https://github.com/your-repo-url.git
   cd your-repo
   ```

2. **Build Docker containers**:
   Run the following command to build the Docker containers for the app, PostgreSQL, and Redis.
   ```sh
   docker compose build
   ```

3. **Start the services**:
   Bring up the application and the associated services (PostgreSQL and Redis) using Docker Compose.
   ```sh
   docker compose up
   ```

   The application will now be accessible at `http://127.0.0.1:8000`.

4. **Access API documentation**:
   FastAPI provides interactive API documentation, which can be accessed at:
   - **Swagger UI**: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
   - **ReDoc**: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

### Stopping the services
To stop the application and services, press `Ctrl+C` in the terminal where Docker is running, or run:
```sh
docker compose down
```

## API Endpoints

Here are the main API endpoints you can use:

### **Item Management (CRUD)**

- **GET** `/items`: Retrieve a paginated list of items.
  - **Query Parameters**:
    - `limit`: Number of items per page.
    - `page`: Page number.
  - **Response**: List of items.

- **GET** `/items/{item_id}`: Retrieve a single item by its ID.
  - **Path Parameter**:
    - `item_id`: ID of the item to retrieve.
  - **Response**: Details of the specified item.

- **POST** `/items`: Add a new item.
  - **Body**: Item details (name, category, manufacturer, item_code, description, price, quantity, etc.).
  - **Response**: Status `201 Created`.


- **PUT** `/items/{item_id}`: Update an existing item.
  - **Path Parameter**:
    - `item_id`: ID of the item to update.
  - **Body**: Full item details (all fields must be provided).
  - **Response**: Status `204 No Content`.

- **PATCH** `/items/{item_id}`: Partially update an item.
  - **Path Parameter**:
    - `item_id`: ID of the item to update.
  - **Body**: Only the fields to update.
  - **Response**: Updated item details.

- **DELETE** `/items/{item_id}`: Delete an item.
  - **Path Parameter**:
    - `item_id`: ID of the item to delete.
  - **Response**: Status `204 No Content`.


## Dependencies

The application requires the following Python dependencies, which are listed in the `requirements.txt` file:

- **FastAPI**: The web framework.
- **SQLAlchemy**: ORM for database management.
- **Redis**: For caching data.
- **asyncpg**: Asynchronous PostgreSQL driver.
- **Uvicorn**: ASGI server for FastAPI.
- **Pydantic**: Data validation and parsing.

To install all dependencies locally (if not using Docker), run:
```sh
pip install -r requirements.txt
```

